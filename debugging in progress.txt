For purposes of this conversation you will act as a proffesional webdesigner debugging a website that was built with strapi, next.js and tailwind with a PostgreSQL database.
My skill level with code is moderate.
Keep responses as concise as possible and when I need clarification or have questions I will ask.
Provide answers or if you have questions or need clarification ask before providing answer and wait for next instruction.
Address only the issue at hand, do not get ahead of the issue we are working on unless you believe another bug or issue is effecting what we are working on and should be addressed first or at the same time. In that case, speak up.
It is not necisarry to repeat my instructions back to me, just jump into the current issue.

The code was initially written by grok but when I recieved it it was missing many files and had other code issues. Working with grok and you we got through some of the many of the major issues but have many to go. Once conversations get long with you, you seem to start getting confused so I put this introduction to the page together to try and give you a good understanding of the page and it's functions when we start a new conversation. Before addressing the issues I want to work on today, ask for clarification of anything you are unsure of or ask to see parts of the code that will give you a better understanding of how things function. Don't assume anything, verify ahead that your code fixes are right for my page's particular code.

Basic page structure is a seperate header, sidebar on right and footer. This is a news page that has multple categories that when published in admin app are supposed to post to specific sections of index and then archive to their respective category archive pages as they are pushed down by the archiving structure. Category drop down menu is in header and includes the categories:
All articles
Politics
Economy
US News
World News
Opinion
Memes & Cartoons
News from the Web

In admin app, "Article" publishes articles of the categories:
Politics
Economy
US News
World News

Opinion, Memes & Cartoons, News from the Web (external articles) are all seperate collection types with their own rules as defined below.

The intended behavior of each category:

Archive pages for all categories standard archiving of left to right, top to bottom and pagination to keep articles in chronological order order, always from newest to oldest, top to bottom, left to right on pages with more than one column. 

Opinion, Memes & Cartoons, News from the Web are special categories and have different rules from other categories as follows:

Opinion articles when published should post to opinion archive page, stand alone page for individual article and their target area in sidebar which displays the most recent two opinion articles. 

Memes & Cartoons when published should post to meme archive page and their target area in sidebar which displays the most recent two Memes & Cartoons articles. Memes & Cartoons do not go to All articles archive. Memes & cartoons do not have a standalone individual article page.

News from the Web are text only feilds, no image. News from the Web articles do not move to All Articles archives or individual category archives, only the News from the Web archive. they do not have a stand alone individual article page. News from the Web articles should "time out" from archives 1 year after publishing and be removed from archives. I do not know if the time out is currently working as we did have it set but had other issues and I had to restore an old copy of the whole site.

All articles is a catch all archive category. It does not have it's own display area on index, it is only an archive. Articles with the categories Opinion, Politics, Economy, US News, World News get moved to All Articles archives as well as their respective categories and follow the same basic archiving structure with pagination. Memes and news from the web do not get moved to all articles archive.


**** This is the part I want to work on now****

All categories other than News from the Web include an image added from admin app.
On each submission page there is a "keep image in assets" false/true button.
The behavior I want from images is as follows:
if keep image in assets = false, they should arrange in folders according to year, month and day with these formats and paths: arwtnews\strapi\public\images\content\articles\YYYY\Month\DD\(articleid)-(imagenumber).jpg
arwtnews\strapi\public\images\content\opinions\YYYY\Month\DD\(articleid)-(imagenumber).jpg
arwtnews\strapi\public\images\content\memes\YYYY\Month\DD\(memeid).jpg
If the folders don't exist at the time of drafting and publishing they are auto created. 
All files created by code should be moved to the proper dated folder along with the original sized one and named according to the convention already used such as  (articleid)-(imagenumber)small.jpg, (articleid)-(imagenumber)medium.jpg, (articleid)-(imagenumber)thumbnail.jpg, etc.
When images are being properly moved to thier folders the original in the uploads folder should be deleted and all calls for images should be routed to their final location. I know this will leave stale links in the strapi media library but I can deal with manually deleting them for now and possibly deal with that in code down the road.

If keep image in assets=true, they should stay in uploads folder. My understanding is I can move them around in subfolders after publishing and strapi is smart enough to keep track of them and not lose their links from articles.

I made an attempt in an erlier conversation with v0 to make the archive more complex with all images being removed from uploads and moved to an auto created foled named "assets" with it's dated subfolders. This made the code too complex and caused errors so we chaged course but there may be elements of that method in code that need to be cleaned out if we find it in what we are doing today.

What's working and not working now:
When keep image in assets=true, functions as intended across all categories.
When keep image in assets=false, folders are created, a single full sized picture is named properly and moved to proper folder.
Images are not being deleted from assets even when keep in assets=false.
With one exception, all images, from all preview display areas, category archives and stand alone article pages, are still being called from uploads folder, not their dated folders even though the folders are being created properly and image being moved to that folder and named correctly.
The exception is meme display area in side bar. That section is properly calling the image from it's dated folder. on meme archive page itself, it is still calling image from uploads folder.

My thoughts on process to fix:
1. Find out what is different in code for meme to be properly called from sidebar area and mimic it for all other pages. Once that is fixed, push to github to save established fix. (remind me to do so)

2. Investigate why images are not being deleted from assets when keep in assets=false and fix issue. Note: if not complicated in code, if image is initially selected from assets it should keep a copy there even if keep in assets=false. This may be default? Once that is fixed, push to github to save established fix. (remind me to do so)

3. Investigate why only one image is being created and moved, not the 3 sizes. if not to comlicated, fix that tonight but from what I see, currently all locations are using only the large image so that may not be a pressing issue. If that is fixed tonight, push to github to save established fix. (remind me to do so)


Before we do anything else tell me what you need from me to better understand the page and the issue we will be working on. Once you have an understanding of the function of the page give me an outline of your recommended game plan and I will tell you how to proceed. I am inclusing a folder tree of the site that is "clean" without any image files or their auto reated date folders. Once you have that, tell me what you need to fully understand code and we will discuss what we are going to do before you give me the full plan. I stress, assume nothing about the code. When giving me a code fix make sure you have a copy of the full file to see my actual code, not go by standard convention. Short concise answers and I will ask if I need clarification.














Issues to work on today:
Images:
We mostly got the image folder creation, image nameing and routing figured out but it seems the code is creating several size images for display in different areas. 

Opinion articles is creating proper folders for images and moving the images there but is still calling the images from the uploads folder.



When keep image in assets is selected in admin app they should be moved to a folder at arwtnews\strapi\public\images\content\assets. This folder doesn't need subfolders and images should keep their original name. When pulling up images from assets in admin app it should point to that location by default.

I understand the image routing issues may take many changes in code in multiple places so develop a gameplan and let me know the outline before we start on that.

Header and header menu:
I would like to change the layout of my header and header menu to something closer to the layout of the menu from patriot post but keeping my theme of colors and font. I am providing an image so you understand the visual but basically remove my page name from the header bar, it will only be a menu justified right but more spread out so it takes more than half the bar. Font size can be increased if need be to help with spacing. Selections should look more like buttons with the verticle line seperating them and entire field should highlight on mousover. Again, using color theme of my page.

The about button can be turned into a drop down that will have the selections of about, Our Mission, terms of use and privacy policy which of course lead to their respective links.

Other issues may come up during the course of this today and we will address them as appropriate.





I don't want to work on the below issues today. They are for my informational purposes
Note: sendgrid errors and commented out in rwtnews\strapi\config\plugins.js to temporary bypass. 

Note: Display order of external articles on index is showing by displayed date not internal time.